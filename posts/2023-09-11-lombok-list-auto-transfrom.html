<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.png" type="image/png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/assets/app-41ce1120.js"></script><link rel="stylesheet" href="/assets/index-3ccb23fa.css"><link rel="modulepreload" crossorigin="" href="/assets/post-9055ffd2.js"><link rel="stylesheet" href="/assets/post-11c1301d.css"><link rel="modulepreload" crossorigin="" href="/assets/2023-09-11-lombok-list-auto-transfrom-3a7acf46.js"><title>记录 lombok 自动转换 List 类型</title><meta name="description" content="Just infected with a disease called curiosity."><meta name="theme-color" content="#ffffff"><meta property="og:title" content="记录 lombok 自动转换 List 类型"><meta name="twitter:title" content="记录 lombok 自动转换 List 类型"></head><body class="font-sans"><div id="app" data-server-rendered="true"><!--[--><main flex="~ col" min-h-full="" p="x-4 t-24 b-6" text-c=""><div flex-1="" mb-6=""><!--[--><header flex="" justify-between="" items-center="" w-full="" h-14="" bg-c="" z-40="" p="x-4 md:x-5" class="absolute top-0 left-0" data-v-c21308c4=""><a href="/" class="" font-bold="" un-text="c hover:c-dark" flex="" items-center="" data-v-c21308c4=""><img rounded-md="" w-40px="" h-40px="" class="mask mask-squircle" src="/avatar.jpg" alt="avatar" data-v-c21308c4=""><div i-fa6-solid:angle-right="" class="prompt inline-block mx-2 lt-sm:hidden" data-v-c21308c4=""></div><span text-xl="" font-bold="" mt-1="" lt-sm:hidden="" data-v-c21308c4="">Hi@Everyone</span><span class="blink text-xl mt-1 lt-sm:hidden" data-v-c21308c4="">_</span></a><nav flex="" space-x-4="" data-v-c21308c4=""><a href="/projects" class="" title="Projects" nav-item="" data-v-c21308c4=""><div i-ri-lightbulb-line="" md:hidden="" data-v-c21308c4=""></div><span lt-md:hidden="" class="" data-v-c21308c4="">Projects</span></a><a href="/posts" class="" title="Blog" nav-item="" data-v-c21308c4=""><div i-majesticons:paper-fold-text-line="" md:hidden="" data-v-c21308c4=""></div><span lt-md:hidden="" class="active" data-v-c21308c4="">Blog</span></a><a href="/photos" class="" title="Photos" nav-item="" data-v-c21308c4=""><div i-ri-image-fill="" md:hidden="" data-v-c21308c4=""></div><span lt-md:hidden="" class="" data-v-c21308c4="">Photos</span></a><a nav-item="" href="/search" title="Search" data-v-c21308c4=""><div i-uil:search="" data-v-c21308c4=""></div></a><button nav-item="" title="Toggle dark" data-v-c21308c4=""><div i="carbon-sun dark:carbon-moon" data-v-c21308c4=""></div></button><!--[--><!--]--></nav></header><button title="Scroll to top" fixed="" right-3="" bottom-3="" w-10="" h-10="" hover:op100="" rounded-full="" flex="" items-center="" justify-center="" hover-bg-hex-8883="" transition="" duration-300="" z-100="" print:hidden="" class="op0! pointer-events-none" data-v-c21308c4=""><div i-ri-arrow-up-line="" data-v-c21308c4=""></div></button><!--]--><!--[--><div prose="" prose-lg="" mt-6="" mb-8="" mx-a="" data-v-cbf28caa=""><h1 text-4xl="" font-bold="" slide-enter="" data-v-cbf28caa="">记录 lombok 自动转换 List 类型</h1><p class="op-50 mt-2 slide-enter" data-v-cbf28caa="">2023/09/11 · 1 min <span data-v-cbf28caa="">· <span i-uil:tag-alt="" mr-1="" text-sm="" data-v-cbf28caa=""></span><!--[--><span data-v-cbf28caa=""><a href="/posts/tags/tips" class="" hover:underline="" data-v-cbf28caa="">Tips</a><span data-v-cbf28caa="">, </span></span><span data-v-cbf28caa=""><a href="/posts/tags/类型转换" class="" hover:underline="" data-v-cbf28caa="">类型转换</a><!----></span><!--]--></span></p></div><article class="toc-open" data-v-cbf28caa=""><div class="prose prose-lg m-auto text-left slide-enter-content" data-v-cbf28caa=""><p>在日常开发中，经常会出现需要将 List 类型存入数据库的情况，如果每个都手动去转换，会显得很麻烦。项目使用了 lombok 的话，一切会显得十分简单，特此记录一下。</p><p><img src="/images/in-post/2023-09-11/header.jpg" alt=""></p><hr><div class="language-java"><span class="lang">java</span><pre class="shiki github-dark-dimmed shiki-dark" tabindex="0"><code v-pre=""><span class="line"><span style="color:#adbac7">@</span><span style="color:#f47067">Data</span></span>
<span class="line"><span style="color:#adbac7">@</span><span style="color:#f47067">Accessors</span><span style="color:#adbac7">(</span><span style="color:#6cb6ff">chain</span><span style="color:#adbac7"> </span><span style="color:#f47067">=</span><span style="color:#adbac7"> </span><span style="color:#6cb6ff">true</span><span style="color:#adbac7">)</span></span>
<span class="line"><span style="color:#adbac7">@</span><span style="color:#f47067">TableName</span><span style="color:#adbac7">(</span><span style="color:#6cb6ff">value</span><span style="color:#adbac7"> </span><span style="color:#f47067">=</span><span style="color:#adbac7"> </span><span style="color:#96d0ff">"data"</span><span style="color:#adbac7">, </span><span style="color:#6cb6ff">autoResultMap</span><span style="color:#adbac7"> </span><span style="color:#f47067">=</span><span style="color:#adbac7"> </span><span style="color:#6cb6ff">true</span><span style="color:#adbac7">)</span></span>
<span class="line"><span style="color:#f47067">public</span><span style="color:#adbac7"> </span><span style="color:#f47067">class</span><span style="color:#adbac7"> </span><span style="color:#f69d50">Data</span><span style="color:#adbac7"> {</span></span>
<span class="line"><span style="color:#adbac7">    @</span><span style="color:#f47067">TableId</span><span style="color:#adbac7">(</span><span style="color:#6cb6ff">type</span><span style="color:#adbac7"> </span><span style="color:#f47067">=</span><span style="color:#adbac7"> IdType.AUTO)</span></span>
<span class="line"><span style="color:#adbac7">    </span><span style="color:#f47067">private</span><span style="color:#adbac7"> Integer</span><span style="color:#f69d50"> </span><span style="color:#adbac7">id; </span><span style="color:#768390">// id</span></span>
<span class="line"><span style="color:#adbac7">    @</span><span style="color:#f47067">TableField</span><span style="color:#adbac7">(</span><span style="color:#6cb6ff">typeHandler</span><span style="color:#adbac7"> </span><span style="color:#f47067">=</span><span style="color:#adbac7"> JacksonTypeHandler.class)</span></span>
<span class="line"><span style="color:#adbac7">    </span><span style="color:#f47067">private</span><span style="color:#adbac7"> List</span><span style="color:#f69d50">&lt;</span><span style="color:#f47067">String</span><span style="color:#f69d50">&gt; </span><span style="color:#adbac7">code; </span><span style="color:#768390">// code</span></span>
<span class="line"><span style="color:#adbac7">}</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light shiki-light" tabindex="0"><code v-pre=""><span class="line"><span style="color:#24292e">@</span><span style="color:#d73a49">Data</span></span>
<span class="line"><span style="color:#24292e">@</span><span style="color:#d73a49">Accessors</span><span style="color:#24292e">(</span><span style="color:#005cc5">chain</span><span style="color:#24292e"> </span><span style="color:#d73a49">=</span><span style="color:#24292e"> </span><span style="color:#005cc5">true</span><span style="color:#24292e">)</span></span>
<span class="line"><span style="color:#24292e">@</span><span style="color:#d73a49">TableName</span><span style="color:#24292e">(</span><span style="color:#005cc5">value</span><span style="color:#24292e"> </span><span style="color:#d73a49">=</span><span style="color:#24292e"> </span><span style="color:#032f62">"data"</span><span style="color:#24292e">, </span><span style="color:#005cc5">autoResultMap</span><span style="color:#24292e"> </span><span style="color:#d73a49">=</span><span style="color:#24292e"> </span><span style="color:#005cc5">true</span><span style="color:#24292e">)</span></span>
<span class="line"><span style="color:#d73a49">public</span><span style="color:#24292e"> </span><span style="color:#d73a49">class</span><span style="color:#24292e"> </span><span style="color:#6f42c1">Data</span><span style="color:#24292e"> {</span></span>
<span class="line"><span style="color:#24292e">    @</span><span style="color:#d73a49">TableId</span><span style="color:#24292e">(</span><span style="color:#005cc5">type</span><span style="color:#24292e"> </span><span style="color:#d73a49">=</span><span style="color:#24292e"> IdType.AUTO)</span></span>
<span class="line"><span style="color:#24292e">    </span><span style="color:#d73a49">private</span><span style="color:#24292e"> Integer id; </span><span style="color:#6a737d">// id</span></span>
<span class="line"><span style="color:#24292e">    @</span><span style="color:#d73a49">TableField</span><span style="color:#24292e">(</span><span style="color:#005cc5">typeHandler</span><span style="color:#24292e"> </span><span style="color:#d73a49">=</span><span style="color:#24292e"> JacksonTypeHandler.class)</span></span>
<span class="line"><span style="color:#24292e">    </span><span style="color:#d73a49">private</span><span style="color:#24292e"> List&lt;</span><span style="color:#d73a49">String</span><span style="color:#24292e">&gt; code; </span><span style="color:#6a737d">// code</span></span>
<span class="line"><span style="color:#24292e">}</span></span>
<span class="line"></span></code></pre></div><p>添加了相应注解之后，在数据存入数据库时，会自动将 List 转为 String；取出数据时，也会将 String 转为 List，无需手动处理。</p></div></article><footer prose-lg="" mx-auto="" mt-16="" slide-enter="" animate-delay-500="" data-v-cbf28caa=""><div class="grid md:grid-cols-2 pb-3 text-[0.95em]" data-v-cbf28caa=""><a href="https://github.com/cosmoscatts/cosmoscatts.github.io/edit/master/pages/posts/2023-09-11-lombok-list-auto-transfrom.md" title="Edit link" target="_blank" rel="noopener noreferrer" class="hover:underline text-c-active" data-v-cbf28caa=""><span i-tabler:edit="" w-4.5="" h-4.5="" align-text-top="" data-v-cbf28caa=""></span> 在 GitHub 中修改此页</a><span md:text-right="" text-c-light="" data-v-cbf28caa=""><span class="i-ic:round-update w-4.5 h-4.5" data-v-cbf28caa=""></span> 最后更新于: 2023/9/17 01:42:04</span></div><div class="grid md:grid-cols-2 pt-3 border-t border-c text-[0.95em]" data-v-cbf28caa=""><span class="prev" data-v-cbf28caa=""><a href="/posts/2022-11-28-how2-write-web-game" class="" hover:underline="" data-v-cbf28caa="">如何编写 Web 游戏</a></span><span class="next text-right" data-v-cbf28caa=""><a href="/posts/2023-09-13-animation-tools" class="" hover:underline="" data-v-cbf28caa="">记录常用的动画工具网站</a></span></div><div pl-1="" mt-4="" data-v-cbf28caa=""><a href="/posts" class="" text-xl="" font-bold="" op50="" hover="op75 underline underline-offset-4">$ cd ..</a></div></footer><div class="giscus" prose-lg="" mx-auto="" mt-20="" data-v-cbf28caa=""></div><!--]--></div><footer text="16px center" mt-20="" w-52vw="" mx-auto="" slide-enter="" animate-delay-800="" flex="" items-center="" justify-between="" lt-md:justify-center=""><div text-c-lighter="">© Cosmoscatts 2023 <span lt-md:hidden="">· Just infected with a disease called curiosity.</span></div><div flex="" items-center="" gap-3="" lt-md:hidden=""><a text-c="" op-50="" hover:op-100="" flex="" items-center="" cursor-pointer="" href="https://github.com/cosmoscatts/cosmoscatts.github.io" title="Code" target="_blank" rel="noopener noreferrer"><div i-carbon-code="" mr-1=""></div>Code </a><a text-c="" op-50="" hover:op-100="" flex="" items-center="" cursor-pointer="" href="/feed.xml" title="RSS" target="_blank" rel="noopener noreferrer"><div i-jam:rss-feed="" mr-1=""></div>RSS</a></div></footer></main><!----><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script></body></html>